<main class="container mt-5">
  <div
    class="d-flex flex-row justify-content-between align-items-baseline mb-3"
  >
    <h1>
      Product List
    </h1>
    <a href="/product/add" class="btn btn-primary">
      Add Product
    </a>
  </div>
  <form id="search-product-form" method="GET">
    <fieldset>
      <legend>Search</legend>
      <div class="form-group">
        <label for="search" class="sr-only">
          Search
        </label>
        <div class="input-group mb-3">
          <input
            id="search"
            name="search"
            type="search"
            class="form-control"
            placeholder="search..."
            value="{{search}}"
          />
          <div class="input-group-append">
            <button type="submit" class="btn btn-primary">
              Search
            </button>
          </div>
        </div>
      </div>
      <div class="form-group">
        <label for="category" class="sr-only">
          Category
        </label>
        <select
          id="category"
          name="category"
          class="custom-select w-auto"
        >
          {{> select-option-list categoryOptionList}}
        </select>
      </div>
    </fieldset>
  </form>
  <div class="row">
    {{#each products}}
      <div class="col-lg-6">
        <div class="card mb-3">
          <div class="card-body">
            <h2 class="card-title h2">
              <a href="/product/{{id}}">
                {{name}}
              </a>
            </h2>
            <div class="h4 text-success">
              {{formatPrice price}}
            </div>
            <div>
              <span class="badge badge-primary">
                {{category}}
              </span>
              <span class="badge badge-primary">
                Small
              </span>
              <span class="badge badge-primary">
                Leather
              </span>
            </div>
            <div class="card-text">
              lorem ipsum
            </div>
            <div class="text-right">
              <a href="/product/edit/{{id}}" class="btn btn-primary">
                Edit
              </a>
              <button
                class="btn btn-danger delete-product-from-list"
                data-id="{{id}}"
                data-name="{{name}}"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
      </div>
    {{/each}}
  </div>
</main>